seed: 42
batch_size: 16
num_workers: 4
device: cuda

model:
  encoder_config: configs/model/encoder.yaml
  heads_config: configs/model/heads.yaml

data:
  blastocyst_config: configs/data/blastocyst.yaml
  humanembryo2_config: configs/data/humanembryo2.yaml
  quality_config: configs/data/quality_public.yaml
  hungvuong_config: configs/data/hungvuong.yaml
  splits_base_dir: data/processed/splits
  include_meta_day_default: true

transforms:
  image_size: 256
  morph: light
  stage: light
  joint: light
  quality: light
  normalize: true
  mean: [0.5, 0.5, 0.5]
  std: [0.5, 0.5, 0.5]

training:
  lr: 0.001
  weight_decay: 0.0001
  epochs:
    morph: 20
    stage: 15
    joint: 10
    quality: 10
  loss_weights:
    morph: 1.0
    stage: 1.0
    quality: 1.0
  morph_loss_reduction: mean
  joint_sampling: balanced
  quality_sampling: proportional
  require_prev_ckpt: true
  freeze:
    stage_start_ratio: 0.8
    stage_schedule:
      - [0.0, 0.8]
      - [5.0, 0.5]
      - [10.0, 0.0]

quality_exp:
  derive_quality: true
  exp_min: 3
  icm_good: [1, 2]
  te_good: [1, 2]
  split_ratios: [0.8, 0.1, 0.1]
  group_col_candidates: [patient_id, embryo_id]
  use_pos_weight: true
  threshold_tuning: true
  checkpoint_name: phase4_quality.ckpt
  monitor_metric: val/quality_auprc

logging:
  tensorboard: true
  csv: false

outputs:
  checkpoints_dir: outputs/checkpoints
  logs_dir: outputs/logs
  reports_dir: outputs/reports
